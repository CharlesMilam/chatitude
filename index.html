<!DOCTYPE html>
<html>
<head>
  <title>Chatitude</title>
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/foundation/5.1.1/css/foundation.css">
  <style type="text/css">
    div {
      width: 50%;
      margin: auto;
    }
    ul {
      list-style-type: none;
    }
    .chatsContainer {
      width: 100%;
      margin: auto;
    }
  </style>
  <script type="text/javascript" src="public/js/jquery-2.1.1.js"></script>
  <script type="text/javascript" src="public/js/handlebars-v2.0.0.js"></script>
</head>
<body>
  <div class="appHeader"><h2>Chatitude</h2></div>
  <div class="signupContainer">
    <div class="signupHeader">Chats Signup</div>
    <div class="signupForm">
      <label>User Name:</label>
      <input type="text" placeholder="user name here" id="usernameSignup" />
      <label>Password:</label>
      <input type="password" placeholder="password here" id="passwordSignup">
      <input type="button" value="Signup" id="signupBtn">
    </div>
  </div>
  <div class="spacer"><hr></div>
  <div class="signinContainer">
    <div class="signinHeader">Chats Signin</div>
    <div class="signinForm">
      <label>User Name:</label>
      <input type="text" placeholder="user name here" id="usernameSignin" />
      <label>Password:</label>
      <input type="password" placeholder="password here" id="passwordSignin">
      <input type="button" value="Signin" id="signinBtn">
    </div>
  </div>
  <div class="spacer"><hr></div>
  <div class="messageContainer">
    <div class="messageHeader">New Chats</div>
    <div class="messageForm">
      <label>User Name:</label>
      <input type="text" placeholder="user name here" id="usernameMessage" />
      <label>Message:</label>
      <input type="text" placeholder="message here" id="message">
      <input type="button" value="Chat it" id="messageBtn">
    </div>
  </div>
  <div class="spacer"><hr></div>
  <div class="chatsContainer">
    <div class="chatsHeader">The Chats</div>
      <div class="chats">
        <ul class="chatsList"></ul>
      </div>
    </div>
  </div>
  

  <script>
    $("#messageBtn").click(function() {
      console.log("in click")
      $.ajax({
        type: 'POST',
        url: 'http://chat.api.mks.io/chats',
        data: {username: $("#usernameMessage").val(), message: $("#message").val(), apiToken: sessionStorage.getItem("apiToken")}
        
      }).success(function (token) {
        console.log("success")
      })
    })
  </script>

  <script id="chats-template" type="text/x-handlebars-template">
    {{#each this}}
      <li class="chats">{{user}} -- Message: {{message}}</li>
    {{/each}}
  </script>

  <script type="text/javascript" src="public/js/getChats.js"></script>
  <script type="text/javascript" src="public/js/signup.js"></script>
  <script type="text/javascript" src="public/js/signin.js" ></script>
</body>
</html>