<!DOCTYPE html>
<html>
<head>
    <title>Chatitude</title>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/foundation/5.1.1/css/foundation.css">
    <style type="text/css">
      div {
        width: 50%;
        margin: auto;
      }
      ul {
        list-style-type: none;
      }
    </style>
    <script type="text/javascript" src="jquery-2.1.1.js"></script>
    <script type="text/javascript" src="handlebars-v2.0.0.js"></script>
    <script type="text/javascript" src="getChats.js"></script>
</head>
<body>
  <div class="appHeader"><h2>Chatitude</h2></div>
  <div class="signupHeader">Chats Signup</div>
  <div class="signupContainer">
    <label>User Name:</label>
    <input type="text" placeholder="user name here" id="username" />
    <label>Password:</label>
    <input type="password" placeholder="password here" id="password">
    <input type="submit" value="Signup" id="signupBtn">
  </div>
  <div class="spacer1"><hr></div>
  <div class="signinHeader">Chats Signin</div>
  <div class="signinContainer">
    <label>User Name:</label>
    <input type="text" placeholder="user name here" id="username_signin" />
    <label>Password:</label>
    <input type="password" placeholder="password here" id="password_signin">
    <input type="submit" value="Signin" id="signinBtn">
  </div>
  <div class="spacer2"><hr></div>
  <div class="chatsHeader">The Chats</div>
  <div class="chatsContainer">
    <ul class="chatsList"></ul>
  </div>

  <script>
    $("#signupBtn").click(function() {
      console.log("in click")
      $.ajax({
        type: 'POST',
        url: 'http://chat.api.mks.io/signup',
        data: {username: $("#username").val(), password: $("#password").val()}
        
      }).success(function () {
        console.log("success");
        $(".signupContainer").hide();
        $(".signupHeader").hide();
        $(".spacer1").hide();
      })
    })
  </script>

  <script>
    $("#signinBtn").click(function() {
      console.log("in click")
      $.ajax({
        type: 'POST',
        url: 'http://chat.api.mks.io/signin',
        data: {username: $("#username_signin").val(), password: $("#password_signin").val()}
      }).success(function (token) {
        $(".signupContainer").hide();
        $(".signupHeader").hide();
        $(".spacer1").hide();
        $(".signinContainer").hide();
        $(".signinHeader").hide();
        $(".spacer2").hide();
        $(".appHeader").append("<p>Signed in as: " + $("#username_signin").val() + "</p>")
        console.log("success", token)
      })
    })
  </script>

  <script id="chats-template" type="text/x-handlebars-template">
    {{#each this}}
      <li class="chats">{{user}} -- Message: {{message}}</li>
    {{/each}}
  </script>
</body>
</html>